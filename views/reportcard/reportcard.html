<cpasidenav></cpasidenav>
<cpanavbar></cpanavbar>
<main>
    <div class="row">
        <div class="col s12 m12">
            <div class="card-panel" id="report-card">
                <div class="row">
                    <div class="col m6">
                        <h3>Boleta de {{current.nombre}}</h3>
                        <h5 class="grey-text text-darken-1">{{current.rol}}</h5>
                        <a class="btn-flat waves-effect waves-teal" ng-click="clear()">En blanco</a>
                    </div>
                    <div class="col m3"></div>
                    <div class="col m3">
                        <br/><h6 class="white-text blue darken-4 center-align z-depth-1" id="report-month">{{currentMonth.mes}}</h6>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12">
                        <ul class="tabs">
                            <li class="tab col s3"><a class="active" href="#areas">Áreas de éxito</a></li>
                            <li class="tab col s3"><a href="#penalizations">Penalizaciones</a></li>
                            <li class="tab col s3"><a href="#extras">Puntos Extras</a></li>
                        </ul>
                    </div>
                    <div id="areas" class="col s12">
                        <div class="section" ng-repeat="area in areas track by $index" ng-if="$index < 3">
                            <h6>{{area.area}}</h6>
                            <table class="responsive-table striped bordered">
                                <thead>
                                    <tr>
                                        <th>Indicador</th>
                                        <th>Meta</th>
                                        <th>Criterio</br>Mínimo</th>
                                        <th>Real</th>
                                        <th>Peso</br>Específico</th>
                                        <th>Porcentaje de</br>Cumplimiento</th>
                                        <th>Calificación</th>
                                        <th> </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="i in indicators track by $index"  ng-if="i.area_id === area.id" ng-model-options="{ updateOn: 'blur' }">
                                        <td width="400px">{{i.indicador}}</td> 
                                        <td><input id="meta" type="text" ng-model="i.meta" ng-change="setValue($index)"></td>
                                        <td><input id="minimo" type="text" ng-model="i.minimo" ng-change="setValue($index)"></td>
                                        <!--<td contenteditable="true">{{i.meta}}</td>
                                        <td contenteditable="true">{{i.minimo}}</td>
                                        <td contenteditable ng-model="i.real">{{i.real}}</td>-->
                                        <td><input id="realobt" type="text" ng-model="i.real_obtenido" ng-change="setValue($index)"></td>
                                        <td><input id="peso" type="text" ng-model="i.peso" ng-change="setValue($index)"></td>
                                        <!--<td contenteditable="true" ng-change="change()" ng-model="i.peso">{{i.peso}}</td>-->
                                        <td contenteditable="false">{{i.porcentaje}}</td>
                                        <td contenteditable="false">{{i.calificacion}}</td>
                                        <td><a href="#" class="delete-indicator" ng-click="removeIndicator(i.indicador_id)"><i class="material-icons">remove</i></a></td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="row">
                                <div input-field class="col m4">
                                    <select ng-model="selectedIndicator" ng-change="newIndicator(selectedIndicator)" material-select watch>
                                        <option ng-repeat="i in selectOptions"
                                                ng-if="i.area_id === area.id"
                                                value="{{i.indicador_id}}">{{i.indicador}}</option>
                                    </select>
                                    
                                </div>
                                <div class="col m4"></div>
                                <div class="col m4"></div>
                            </div>
                        </div>
                    </div>
                    <div id="penalizations" class="col s12">
                        <p></p>
                    </div>
                    <div id="extras" class="col s12">Test 3</div>
                    
                </div>
                <h6 style="font-size: 17px; margin-left: 30px" class="grey-text text-darken-1">Calificación Parcial: {{final.parcial}}</h6>
                <h6 style="font-size: 17px; margin-left: 30px" class="grey-text text-darken-1">Calificación Final: {{final.final}} </h6>
            </div>
            <!--<a class="waves-effect waves-teal btn right" ng-click="save()">Guardar</a>-->
        </div>
    </div>
</main>