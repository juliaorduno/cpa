<cpasidenav></cpasidenav>
<cpanavbar></cpanavbar>
<main>
    <div class="row">
        <div class="col s12 m12">
          <div class="card-panel">
            <h3>Colaboradores</h3>
            <div class="row">
                <div class="collection z-depth-1">
                    <a href="#" ng-click="inspect(c)" class="collection-item avatar" id="collaborator-{{c.empleado_id}}" ng-repeat="c in collaborators">
                        <span class="new badge blue" data-badge-caption="" ng-if="c.mes != null">{{c.final}}</span>
                        <span class="title">{{c.nombre}}</span>
                        <p class="light">{{c.rol}}</p>
                        <p class="light" ng-if="c.mes != null">Última calificación: {{c.mes}}</p>
                        <p class="light" ng-if="c.mes === null">No se ha registrado calificación</p>
                    </a>
                </div>
                <a class='btn-flat' data-target='new-collaborator' ng-click="activateModal()" modal>Agregar nuevo</a>
            </div>
          </div>
        </div>
      </div>
      <div id='new-collaborator' class='modal'>
            <div class="modal-content">
                <h5>Nuevo Colaborador</h5>
                <!-- FORM -->
                <div class="row">
                    <div input-field class="col s12 m6">
                        <input type="text" ng-model="form.name" length="50">
                        <label>Nombre</label>
                    </div>
                    <div input-field class="col s12 m6">
                        <input type="text" ng-model="form.lastName" length="50">
                        <label>Apellido</label>
                    </div>
                </div>
                <div class="row">
                    <div input-field class="col s12 m12">
                        <select class="" 
                            ng-model="form.role_id" 
                            ng-options="role.rol_id as role.rol for role in roles"
                            material-select watch>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <a class="modal-action waves-effect waves-green btn-flat" ng-click="insertCollaborator()">Aceptar</a>
                    <a class="modal-action modal-close waves-effect waves-green btn-flat">Cancelar</a>
                </div>
            </div>
</main>


